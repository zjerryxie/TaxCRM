<form id="chat-form">
    <input type="text" id="question" placeholder="Ask me a tax question..." />
    <button type="submit">Ask</button>
</form>

<div id="answer-box"></div>

<script>
document.getElementById("chat-form").addEventListener("submit", function(e) {
    e.preventDefault();
    const question = document.getElementById("question").value;

    fetch("{{=URL('default', 'ask_ai')}}", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: new URLSearchParams({ "question": question })
    })
    .then(res => res.json())
    .then(data => {
        document.getElementById("answer-box").innerText = data.answer || "Error";
    });
});
</script>
